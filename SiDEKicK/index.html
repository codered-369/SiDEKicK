<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SiDEKiCK</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&family=Poppins:wght@400;600&display=swap"
        rel="stylesheet">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üß∞</text></svg>">
</head>

<body>
    <div id="dashboard-view" class="app-container">
        <header>
            <h1>SIDEKICK</h1>
            <p class="subtitle">Ultimate Utility</p>
        </header>

        <div class="dashboard-grid">
            <button class="dash-btn" onclick="showView('meme-view')">
                <span class="icon">ü§°</span>
                <span class="label">Meme Maadi</span>
            </button>
            <button class="dash-btn" onclick="showView('traffic-view')">
                <span class="icon">üö¶</span>
                <span class="label">Traffic Bro</span>
            </button>
            <button class="dash-btn" onclick="showView('whatsapp-view')">
                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WA Icon"
                    style="width: 2.8rem; height: 2.8rem; margin-bottom: 0.2rem;">
                <span class="label">Direct WA</span>
            </button>
            <button class="dash-btn" onclick="showView('call-view')">
                <span class="icon">üìû</span>
                <span class="label">Escape Call</span>
            </button>

            <button class="dash-btn" onclick="showView('sick-view')">
                <span class="icon">ü§í</span>
                <span class="label">Sick Mode</span>
            </button>
            <button class="dash-btn" onclick="showView('update-view'); startFakeUpdate();">
                <span class="icon">üîÑ</span>
                <span class="label">Fake Update</span>
            </button>
        </div>
    </div>

    <!-- Meme Feature -->
    <div id="meme-view" class="app-container" style="display: none;">
        <button class="back-btn" onclick="showHome()">‚¨Ö Back</button>
        <header>
            <h1>MEME MAADI</h1>
        </header>

        <main>
            <div class="meme-display-area" id="memeExportArea">
                <div class="canvas-wrapper">
                    <img id="memeImage" src="" alt="Loading meme..." crossorigin="anonymous">
                    <h2 id="topTextDisplay" class="meme-text top">WHEN YOU</h2>
                    <h2 id="bottomTextDisplay" class="meme-text bottom">FINALLY COMPILE</h2>
                </div>
            </div>

            <div class="controls-area">
                <div class="input-group">
                    <input type="text" id="topTextInput" placeholder="Top Text" value="">
                    <input type="text" id="bottomTextInput" placeholder="Bottom Text" value="">
                </div>

                <div class="action-buttons">
                    <button id="btnNextMeme" class="btn primary">
                        <span>üîÑ</span> Next Meme
                    </button>
                    <button id="btnRoast" class="btn secondary">
                        <span>üî•</span> Roast Friend
                    </button>
                    <button id="btnShare" class="btn accent">
                        <span>ÔøΩ</span> Share
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Placeholders for other features -->
    <div id="traffic-view" class="app-container" style="display: none;">
        <button class="back-btn" onclick="stopAllSounds(); showHome()">‚¨Ö Stop & Back</button>
        <header>
            <h1>TRAFFIC BRO</h1>
            <p class="subtitle">Late? Blame the Silk Board.</p>
        </header>

        <div class="traffic-controls">
            <!-- Sound Selection -->
            <div class="sound-grid">
                <button class="sound-card" onclick="toggleSound('traffic', this)">
                    <span class="icon">üöó</span>
                    <span>City Jam</span>
                </button>
                <button class="sound-card" onclick="toggleSound('rain', this)">
                    <span class="icon">‚õàÔ∏è</span>
                    <span>Heavy Rain</span>
                </button>
            </div>

            <!-- Status -->
            <div id="playing-indicator" class="status-box hidden">
                <div class="equalizer">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                </div>
                <p>Playing Background Noise...</p>
            </div>

            <!-- Manual Effects -->
            <button class="btn secondary" style="width:100%" onclick="playEffect('horn')">
                üì¢ Honk Horn (Manual)
            </button>
        </div>
    </div>

    <div id="whatsapp-view" class="app-container" style="display: none;">
        <button class="back-btn" onclick="showHome()">‚¨Ö Back</button>
        <header>
            <h1>DIRECT WA</h1>
            <p class="subtitle">No Save Contact Needed</p>
        </header>

        <div class="controls-area">
            <div class="input-group">
                <input type="tel" id="waNumber" placeholder="Enter Mobile Number (e.g. 9876543210)"
                    style="text-align: center;">
            </div>

            <button class="btn accent" onclick="openWhatsApp()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg"
                    style="fill:white;">
                    <path
                        d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z" />
                </svg>
                <span>Start Chat</span>
            </button>
        </div>
        <p style="text-align: center; margin-top: 1rem; opacity: 0.7; font-size: 0.8rem;">
            Tip: Include country code (e.g., 91)
        </p>
    </div>

    <div id="call-view" class="app-container" style="display: none;">
        <button class="back-btn" onclick="showHome()">‚¨Ö Back</button>
        <header>
            <h1>ESCAPE CALL</h1>
            <p class="subtitle">Get out of awkward meetings.</p>
        </header>

        <div class="controls-area">
            <div class="input-group">
                <input type="text" id="callerName" placeholder="Caller Name (e.g. Boss)" value="HOME üè†">
            </div>

            <p style="text-align:center; font-weight:600; margin-top:1rem;">Ring in:</p>

            <div class="action-buttons">
                <button class="btn secondary" onclick="scheduleCall(5)">5 Sec</button>
                <button class="btn secondary" onclick="scheduleCall(10)">10 Sec</button>
                <button class="btn secondary" onclick="scheduleCall(30)">30 Sec</button>
                <button class="btn secondary" onclick="scheduleCall(60)">1 Min</button>
            </div>

            <div id="timer-display" class="status-box hidden"
                style="margin-top:1rem; background: var(--text-black); color: white;">
                Waiting...
            </div>
        </div>
    </div>

    <!-- Full Screen Fake Call Overlay -->
    <div id="fake-call-screen" class="fake-call-overlay hidden">
        <div class="call-info">
            <div class="profile-pic">üë§</div>
            <h1 id="incomingCaller">HOME üè†</h1>
            <p>Mobile</p>
        </div>

        <div class="call-actions">
            <button class="call-btn decline" onclick="endFakeCall()">
                ‚ùå
            </button>
            <button class="call-btn accept" onclick="endFakeCall()">
                üìû
            </button>
        </div>
    </div>

    <div id="sick-view" class="app-container" style="display: none;">
        <button class="back-btn" onclick="showHome()">‚¨Ö Back</button>
        <header>
            <h1>SICK MODE</h1>
            <p class="subtitle">Fake a cold. Get a holiday.</p>
        </header>

        <div class="controls-area">

            <p style="text-align:center; font-weight:600;">Select Your Sickness:</p>
            <div class="sound-grid">
                <button class="sound-card active" id="filter-stuffy" onclick="selectSickFilter('stuffy')">
                    <span class="icon">ÔøΩ</span>
                    <span>Stuffy Nose</span>
                </button>
                <button class="sound-card" id="filter-throat" onclick="selectSickFilter('throat')">
                    <span class="icon">üåµ</span>
                    <span>Sore Throat</span>
                </button>
            </div>

            <!-- Recorder -->
            <div class="recorder-box">
                <button id="recordBtn" class="record-btn" onclick="toggleSickRecording()">
                    <div class="inner-circle"></div>
                </button>
                <p id="recordStatus">Tap to Record</p>
            </div>

            <!-- Preview & Share -->
            <div id="sick-actions" class="hidden"
                style="display: flex; flex-direction: column; gap: 1rem; width: 100%;">
                <audio id="sickPreview" controls style="width: 100%;"></audio>
                <button class="btn accent" onclick="shareSickAudio()">
                    <span>üì§</span> Share to Manager
                </button>
            </div>

        </div>
    </div>

    <!-- Fake Update Feature -->
    <div id="update-view" class="app-container"
        style="display: none; background: #0078D7; color: white; justify-content: center; align-items: center; text-align: center; border:none; border-radius: 0; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 99999;">
        <!-- Hidden Escape Button -->
        <div onclick="showHome()"
            style="position: absolute; top:0; left:0; width: 50px; height: 50px; cursor: default;"></div>

        <div class="monitor-content">
            <div class="loader-spinner"></div>
            <h1 style="font-family: 'Segoe UI', sans-serif; font-weight: 300; font-size: 2rem; margin-top: 1rem;">
                Working on updates</h1>
            <h2 style="font-family: 'Segoe UI', sans-serif; font-weight: 300; font-size: 1.5rem; margin: 1rem 0;"><span
                    id="update-percent">0</span>% complete</h2>
            <p style="font-family: 'Segoe UI', sans-serif; opacity: 0.8;">Don't turn off your PC. This will take a
                while.</p>
        </div>
    </div>

    <!-- Hidden Canvas for Exporting -->
    <canvas id="exportCanvas" style="display:none;"></canvas>

    <script src="script.js"></script>
</body>

</html>